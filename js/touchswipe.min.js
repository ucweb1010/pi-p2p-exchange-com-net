!function(e){var t="left",n="right",i="up",r="down",u="in",a="out",o="none",l="auto",s="swipe",c="pinch",h="tap",p="horizontal",f="vertical",d="all",g="start",w="move",v="end",T="cancel",b="ontouchstart"in window,S="TouchSwipe";function E(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=o),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each((function(){var n=e(this),i=n.data(S);i||(i=new O(this,t),n.data(S,i))}))}function O(E,O){var x=b||!O.fallbackToMouseEvents,y=x?"touchstart":"mousedown",m=x?"touchmove":"mousemove",L=x?"touchend":"mouseup",M=x?null:"mouseleave",D="touchcancel",P=0,R=null,k=0,A=0,I=0,N=1,U=0,H=0,_=null,j=e(E),Q="start",X=0,Y=null,C=0,W=0,q=0,F=0;try{j.bind(y,V),j.bind(D,Z)}catch(t){e.error("events not supported "+y+","+D+" on jQuery.swipe")}function V(u){if(!0!==j.data(S+"_intouch")&&!(e(u.target).closest(O.excludedElements,j).length>0)){var a,o=u.originalEvent?u.originalEvent:u,l=b?o.touches[0]:o;if(Q=g,b?X=o.touches.length:u.preventDefault(),P=0,R=null,H=null,k=0,A=0,I=0,N=1,U=0,Y=function(){for(var e=[],t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}(),_=function(){var e={};return e[t]=de(t),e[n]=de(n),e.up=de(i),e[r]=de(r),e}(),le(),!b||X===O.fingers||O.fingers===d||re()?(he(0,l),C=we(),2==X&&(he(1,o.touches[1]),A=I=ge(Y[0].start,Y[1].start)),(O.swipeStatus||O.pinchStatus)&&(a=$(o,Q))):a=!1,!1===a)return $(o,Q=T),a;ce(!0)}}function z(s){var c=s.originalEvent?s.originalEvent:s;if(Q!==v&&Q!==T&&!se()){var h,g=pe(b?c.touches[0]:c);if(W=we(),b&&(X=c.touches.length),Q=w,2==X&&(0==A?(he(1,c.touches[1]),A=I=ge(Y[0].start,Y[1].start)):(pe(c.touches[1]),I=ge(Y[0].end,Y[1].end),Y[0].end,Y[1].end,H=N<1?a:u),N=function(e,t){return(t/e*1).toFixed(2)}(A,I),U=Math.abs(A-I)),X===O.fingers||O.fingers===d||!b||re()){if(function(e,u){if(O.allowPageScroll===o||re())e.preventDefault();else{var a=O.allowPageScroll===l;switch(u){case t:(O.swipeLeft&&a||!a&&O.allowPageScroll!=p)&&e.preventDefault();break;case n:(O.swipeRight&&a||!a&&O.allowPageScroll!=p)&&e.preventDefault();break;case i:(O.swipeUp&&a||!a&&O.allowPageScroll!=f)&&e.preventDefault();break;case r:(O.swipeDown&&a||!a&&O.allowPageScroll!=f)&&e.preventDefault()}}}(s,R=function(e,u){var a=function(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),u=Math.round(180*r/Math.PI);u<0&&(u=360-Math.abs(u));return u}(e,u);return a<=45&&a>=0||a<=360&&a>=315?t:a>=135&&a<=225?n:a>45&&a<135?r:i}(g.start,g.end)),P=function(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}(g.start,g.end),k=W-C,function(e,t){t=Math.max(t,fe(e)),_[e].distance=t}(R,P),(O.swipeStatus||O.pinchStatus)&&(h=$(c,Q)),!O.triggerOnTouchEnd||O.triggerOnTouchLeave){var S=!0;if(O.triggerOnTouchLeave){var E=function(t){var n=(t=e(t)).offset();return{left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()}}(this);S=function(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}(g.end,E)}!O.triggerOnTouchEnd&&S?Q=K(w):O.triggerOnTouchLeave&&!S&&(Q=K(v)),Q!=T&&Q!=v||$(c,Q)}}else $(c,Q=T);!1===h&&$(c,Q=T)}}function G(e){var t=e.originalEvent;if(b&&t.touches.length>0)return q=we(),F=event.touches.length+1,!0;if(se()&&(X=F),e.preventDefault(),W=we(),O.triggerOnTouchEnd||0==O.triggerOnTouchEnd&&Q===w){Q=v;var n=X===O.fingers||O.fingers===d||!b,i=0!==Y[0].end.x;$(t,n&&i&&(ie()||ue())?Q:Q=T)}else!O.triggerOnTouchEnd&&oe()?ee(t,Q=v,h):Q===w&&$(t,Q=T);ce(!1)}function Z(){X=0,W=0,C=0,A=0,I=0,N=1,le(),ce(!1)}function B(e){var t=e.originalEvent;O.triggerOnTouchLeave&&$(t,Q=K(v))}function J(){j.unbind(y,V),j.unbind(D,Z),j.unbind(m,z),j.unbind(L,G),M&&j.unbind(M,B),ce(!1)}function K(e){var t=e,n=ne(),i=te();return n?!i||e!=w||O.triggerOnTouchEnd&&!O.triggerOnTouchLeave?!i&&e==v&&O.triggerOnTouchLeave&&(t=T):t=v:t=T,t}function $(e,t){var n=void 0;return ae()&&(n=ee(e,t,s)),re()&&!1!==n&&(n=ee(e,t,c)),oe()&&!1!==n&&(n=ee(e,t,h)),t===T&&Z(),t===v&&(b?0==e.touches.length&&Z():Z()),n}function ee(e,o,l){var p=void 0;if(l==s){if(j.trigger("swipeStatus",[o,R||null,P||0,k||0,X]),O.swipeStatus&&!1===(p=O.swipeStatus.call(j,e,o,R||null,P||0,k||0,X)))return!1;if(o==v&&ue()){if(j.trigger("swipe",[R,P,k,X]),O.swipe&&!1===(p=O.swipe.call(j,e,R,P,k,X)))return!1;switch(R){case t:j.trigger("swipeLeft",[R,P,k,X]),O.swipeLeft&&(p=O.swipeLeft.call(j,e,R,P,k,X));break;case n:j.trigger("swipeRight",[R,P,k,X]),O.swipeRight&&(p=O.swipeRight.call(j,e,R,P,k,X));break;case i:j.trigger("swipeUp",[R,P,k,X]),O.swipeUp&&(p=O.swipeUp.call(j,e,R,P,k,X));break;case r:j.trigger("swipeDown",[R,P,k,X]),O.swipeDown&&(p=O.swipeDown.call(j,e,R,P,k,X))}}}if(l==c){if(j.trigger("pinchStatus",[o,H||null,U||0,k||0,X,N]),O.pinchStatus&&!1===(p=O.pinchStatus.call(j,e,o,H||null,U||0,k||0,X,N)))return!1;if(o==v&&ie())switch(H){case u:j.trigger("pinchIn",[H||null,U||0,k||0,X,N]),O.pinchIn&&(p=O.pinchIn.call(j,e,H||null,U||0,k||0,X,N));break;case a:j.trigger("pinchOut",[H||null,U||0,k||0,X,N]),O.pinchOut&&(p=O.pinchOut.call(j,e,H||null,U||0,k||0,X,N))}}return l==h&&(o!==T&&o!==v||1!==X&&b||!isNaN(P)&&0!==P||(j.trigger("tap",[e.target]),O.tap&&(p=O.tap.call(j,e,e.target)))),p}function te(){var e=!0;return null!==O.threshold&&(e=P>=O.threshold),e&&null!==O.cancelThreshold&&(e=fe(R)-P<O.cancelThreshold),e}function ne(){return!O.maxTimeThreshold||!(k>=O.maxTimeThreshold)}function ie(){return null===O.pinchThreshold||U>=O.pinchThreshold}function re(){return!!(O.pinchStatus||O.pinchIn||O.pinchOut)}function ue(){var e=ne();return te()&&e}function ae(){return!!(O.swipe||O.swipeStatus||O.swipeLeft||O.swipeRight||O.swipeUp||O.swipeDown)}function oe(){return!!O.tap}function le(){q=0,F=0}function se(){var e=!1;q&&(we()-q<=O.fingerReleaseThreshold&&(e=!0));return e}function ce(e){!0===e?(j.bind(m,z),j.bind(L,G),M&&j.bind(M,B)):(j.unbind(m,z,!1),j.unbind(L,G,!1),M&&j.unbind(M,B,!1)),j.data(S+"_intouch",!0===e)}function he(e,t){var n=void 0!==t.identifier?t.identifier:0;return Y[e].identifier=n,Y[e].start.x=Y[e].end.x=t.pageX||t.clientX,Y[e].start.y=Y[e].end.y=t.pageY||t.clientY,Y[e]}function pe(e){var t=function(e){for(var t=0;t<Y.length;t++)if(Y[t].identifier==e)return Y[t]}(void 0!==e.identifier?e.identifier:0);return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function fe(e){return _[e].distance}function de(e){return{direction:e,distance:0}}function ge(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function we(){return(new Date).getTime()}this.enable=function(){return j.bind(y,V),j.bind(D,Z),j},this.disable=function(){return J(),j},this.destroy=function(){return J(),j.data(S,null),j},this.option=function(t,n){if(void 0!==O[t]){if(void 0===n)return O[t];O[t]=n}else e.error("Option "+t+" does not exist on jQuery.swipe.options")}}e.fn.swipe=function(t){var n=e(this),i=n.data(S);if(i&&"string"==typeof t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on jQuery.swipe")}else if(!(i||"object"!=typeof t&&t))return E.apply(this,arguments);return n},e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:25,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"},e.fn.swipe.phases={PHASE_START:g,PHASE_MOVE:w,PHASE_END:v,PHASE_CANCEL:T},e.fn.swipe.directions={LEFT:t,RIGHT:n,UP:i,DOWN:r,IN:u,OUT:a},e.fn.swipe.pageScroll={NONE:o,HORIZONTAL:p,VERTICAL:f,AUTO:l},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:d}}(jQuery);